<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-commerce website</title>
    <style>
        * {
            margin: 0;
            padding: 10px;


        }

        body {
            background-image: url(https://c0.wallpaperflare.com/preview/676/705/125/ecommerce-online-marketing-internet.jpg);
            background-size: 100% 100%;
            flex-direction: column;

            /* height: 1000px; */
            /* max-width: 500px; */
            /* background-attachment: fixed; */
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>

<body>
    <section class="container" class="container">
        <div>
            <label for="product">Product:</label>
            <input type="text" id="product">

            <label for="cost">Cost:</label>
            <input type="number" id="cost">

            <!-- <label for="category">Category:</label>
            <input type="text" id="category"> -->
            Category:
            <select id="category">
                <option> Please enter a category..</option>
                <optgroup label="other">
                    <option value="Electronic" id="product1">Electronic</option>
                    <option value="Cosmatics" id="product2">Cosmatics</option>
                    <option value="Sationary" id="product3">Stationary</option>
                </optgroup>
            </select>

            <input type="submit" class="btn btn-outline-primary" value="submit" onclick="signup(event)">

            <!-- <label for="btn"></label> -->
            <input type="button" class="btn btn-danger" value="delete" onclick="deleteUser(id)">

            <!-- <label for="btn"></label> -->
            <input type="button" class="btn btn-primary" value="edit" onclick="editUser(id)">
            <div class="row1">
                <h1>Electronic<h1>
            </div>
            <div class="row2">
                <h1>Cosmetics<h1>
            </div>
            <div class="row3">
                <h1>Sationary<h1>
            </div>
        </div>

    </section>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.3.3/axios.min.js"></script>
<script>
    function signup(event) {
        event.preventDefault();

        var name = document.getElementById("product").value;
        var product = document.getElementById("cost").value;
        var category = document.getElementById("category").value;

        var user = {
            name: name,
            product: product,
            category: category,

        }
    }
    axios.post("https://crudcrud.com/api/c0fad88fd9aa497c8cd281a4907206c7/SHREYA", user)
        .then(function (response) {
            console.log(response);
        })

        .catch(function (error) {
            console.log(error);
        });

    var newElement = document.createElement('div');
    var newText = document.createTextNode(product + ' - ' + cost + ', ' + category);
    newElement.appendChild(newText);

    var deleteButton = document.createElement('button');
    deleteButton.innerText = 'Delete';
    deleteButton.onclick = function () {
        deleteUser(response.data._id);
        newElement.remove();
    };
    newElement.appendChild(deleteButton);
    document.body.appendChild(newElement);

    // var olddata = document.getElementById("container").lastChild;
    // document.getElementById("container").removeChild(olddata);


    function deleteUser(id) {
        axios.delete("https://crudcrud.com/api/c0fad88fd9aa497c8cd281a4907206c7/SHREYA", user)
            .then(function (response) {
                console.log(response);
            })
            .catch(function (error) {
                console.log(error);
            });

    }

    function editUser(id) {
        var newName = prompt('Enter new name:');
        var newProduct = prompt('Enter new product:');
        var newCategory = prompt('Enter new category:');

        var user = {
            name: newCost,
            product: newProduct,
            category: Category,
        };

        axios.put("https://crudcrud.com/api/c0fad88fd9aa497c8cd281a4907206c7/SHREYA", user)
            .then(function (response) {
                console.log(response);
            })
            .catch(function (error) {
                console.log(error);
            });
    }


</script>

</html>